--- ../src-base/minecraft/org/bukkit/plugin/PluginLogger.java
+++ ../src-work/minecraft/org/bukkit/plugin/PluginLogger.java
@@ -1,5 +1,7 @@
 package org.bukkit.plugin;
 
+import io.github.crucible.JulLogManager;
+
 import java.util.logging.Level;
 import java.util.logging.LogRecord;
 import java.util.logging.Logger;
@@ -11,7 +13,7 @@
  *
  * @see Logger
  */
-public class PluginLogger extends Logger {
+public class PluginLogger extends JulLogManager.JulToLog4jLogger {
     private String pluginName;
 
     /**
@@ -20,16 +22,21 @@
      * @param context A reference to the plugin
      */
     public PluginLogger(Plugin context) {
-        super(context.getClass().getCanonicalName(), null);
+        super(context.getClass().getCanonicalName());
         String prefix = context.getDescription().getPrefix();
-        pluginName = prefix != null ? new StringBuilder().append("[").append(prefix).append("] ").toString() : "[" + context.getDescription().getName() + "] ";
-        setParent(context.getServer().getLogger());
+        // Crucible start - give plugins a proper prefix for log4j
+        //pluginName = prefix != null ? new StringBuilder().append("[").append(prefix).append("] ").toString() : "[" + context.getDescription().getName() + "] ";
+        pluginName = prefix != null ? prefix : context.getDescription().getName();
+        // Crucible end
         setLevel(Level.ALL);
     }
 
     @Override
     public void log(LogRecord logRecord) {
-        logRecord.setMessage(pluginName + logRecord.getMessage());
+        // Crucible start - fix log4j prefix
+        //logRecord.setMessage(pluginName + logRecord.getMessage());
+        logRecord.setLoggerName(pluginName);
+        // Crucible end
         super.log(logRecord);
     }
 
